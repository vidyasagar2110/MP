<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solve Problem (Simplex Method)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@2.8.2/dist/alpine.min.js" defer></script>
</head>
<body class="bg-gray-100 p-6">
    <div class="max-w-4xl mx-auto bg-white shadow-lg rounded-lg p-8">
        <h1 class="text-2xl font-bold mb-4 text-blue-600">Solve Problem (Simplex Method)</h1>
        <p class="text-gray-700 mb-6">
            Here, users can input data to solve a linear programming problem using the simplex method.
        </p>
        
        <form method="POST" action="{% url 'simplex_solver' %}" x-data="{ num_vars: 2, constraints: [{ var1: '', var2: '' }] }">
            {% csrf_token %}
            <div class="grid grid-cols-2 gap-4">
                <!-- Number of Variables -->
                <div>
                    <label for="num_vars" class="block text-sm font-medium text-gray-700">Number of Variables</label>
                    <input type="number" id="num_vars" name="num_vars" x-model="num_vars" min="2" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500" required>
                </div>

                <!-- Number of Constraints -->
                <div>
                    <label for="num_constraints" class="block text-sm font-medium text-gray-700">Number of Constraints</label>
                    <input type="number" id="num_constraints" name="num_constraints" min="1" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500" required>
                </div>

                <!-- Optimization Type -->
                <div class="col-span-2">
                    <label for="optimization" class="block text-sm font-medium text-gray-700">Optimization</label>
                    <select id="optimization" name="optimization" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500">
                        <option value="maximize">Maximize</option>
                        <option value="minimize">Minimize</option>
                    </select>
                </div>
            </div>

            <!-- Objective Function Coefficients -->
            <div class="mt-4" x-show="num_vars > 0">
                <h3 class="text-lg font-medium text-gray-700">Objective Function</h3>
                <div class="grid grid-cols-2 gap-4">
                    <template x-for="i in num_vars" :key="i">
                        <div>
                            <label :for="'c' + i" class="block text-sm font-medium text-gray-700">c{{ i }}</label>
                            <input type="number" :name="'c' + i" :id="'c' + i" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500" required>
                        </div>
                    </template>
                </div>
            </div>

            <!-- Constraints Inputs -->
            <div x-for="(constraint, index) in constraints" :key="index" class="mt-4 space-y-2">
                <div class="grid grid-cols-4 gap-4">
                    <div>
                        <input type="number" name="a{{ index+1 }}_1" placeholder="a{{ index+1 }}_1" class="block w-full rounded-md border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    <div>
                        <input type="number" name="a{{ index+1 }}_2" placeholder="a{{ index+1 }}_2" class="block w-full rounded-md border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    <div>
                        <input type="text" name="operator" placeholder="<, =, >" class="block w-full rounded-md border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    <div>
                        <input type="number" name="b{{ index+1 }}" placeholder="b{{ index+1 }}" class="block w-full rounded-md border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500">
                    </div>
                </div>
            </div>

            <!-- Add More Constraints Button -->
            <div class="mt-2">
                <button type="button" @click="constraints.push({ var1: '', var2: '' })" class="bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700">
                    Add Constraint
                </button>
            </div>

            <!-- Submit Button -->
            <div class="mt-6">
                <button type="submit" class="w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700">
                    Submit
                </button>
            </div>
        </form>
    </div>
</body>
</html>
